<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>蔡凯的博客</title>
  <meta name="description" content="android developer">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">

</head>


<body>
	<div id="wrap">
	  	
	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="/">Home</a>

		<!-- Nav pages -->
	  
	    
	  
	    
	      <a href="/about" title="About Me">About Me</a>
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
	    
	  
    
    <!-- Nav links -->
	  <a href="https://github.com/fccaikai">View on Github</a>

	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	
	<span>version 1.0.0</span>

</footer>
	

</nav>

    
    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">  
      <a href="/">
        <h1>
          <span>蔡凯</span> Blog
    </h1>
    </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav pages -->
	    
	      
	    
	      
	        <a href="/about" title="About Me">About Me</a>
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
	      
	    
      
      <!-- Nav links -->
	    <a href="https://github.com/fccaikai">View on Github</a>

    </span>
  </div>
</header>
      

    <!-- Main content -->
	  <div id="container">
		  
		<main>

			<!-- Posts -->
<ul id="posts">

	

	  <li class="post">
	  	<h2><a href="/Jekyll-%E5%8F%91%E5%B8%83%E9%A1%B9%E7%9B%AE%E5%88%B0GitHub">发布项目到Github</a></h2>
      <time datetime="2017-03-03T10:00:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>说明 GitHub上有许多优秀的开源代码。我们也可以讲自己的代码托管在Github上，现在就开始讲解一下如何将本地的代码提交到GitHub。现在已Android studio项目为例（其他项目都是一样） 第一步 先做好准备工作： 首先，你需要有一个GitHub帐号， https://github.com ，如何注册这个就不用说了。 然后安装Git。在https://git-scm.com 下载对应的系统版本就好了。 输入 git --version 出现以下结果就说明安装成功了 用刚才注册的GitHub帐号登录完成后，可以看到： 点击’New Repository’创建一个新的仓库 项目名称必须要填，描述可以不用，最后一个是否初始化README可以选，也可以后面自己新建。暂时先不选。 点击’create repository’ 完成创建。 先把框里面的路径复制下来，后面需要用到，现在在GitHub上的操作基本已经完成了。 第二步 先进入到项目根目录下 cd &lt;项目路径&gt; 再进行初始化 git init 使用 git add . 将本目录下的所有文件添加到git管理 然后使用 git commit -m '备注信息' 提交直本地git仓库，现在已经完成了本地的提交，现在我们需要继续关联到GitHub上 使用 git remote add origin https://github.com/caikcode/GitHubDemo.git https://github.com/caikcode/GitHubDemo.git 就是在GitHub上新建完仓库后获得的地址 最后使用 git...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-%E5%8F%91%E5%B8%83Android%E9%A1%B9%E7%9B%AE%E5%88%B0%E6%9C%AC%E5%9C%B0Maven%E4%BB%93%E5%BA%93">将Android项目发布到本地Maven仓库</a></h2>
      <time datetime="2017-03-03T09:58:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>说明 android studio 中我们可以通过在gradle.build中添加配置来导入引用库，如： compile 'com.kcode.github.pubutils:androidLib:0.0.1' 通过这个可以看出’com.kcode.github.pubutils:androidLib:0.0.1’由三部分组成，分别是Maven中的 &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.kcode.github.pubutils&lt;/groupId&gt; &lt;artifactId&gt;androidLib&lt;/artifactId&gt; &lt;version&gt;0.0.1&lt;/version&gt; &lt;packaging&gt;aar&lt;/packaging&gt; &lt;/project&gt; groupId:唯一标识符 artifactId：类似于项目名称 version：版本号 现在我们来创建一个自己的本地库。 第一步 新建一个Android项目。在gradle.properties中添加一下信息 #包信息 GROUP_ID = com.kcode.github.pubutils # Licence信息 PROJ_LICENCE_NAME=The Apache Software License, Version 2.0 PROJ_LICENCE_URL=http://www.apache.org/licenses/LICENSE-2.0.txt PROJ_LICENCE_DEST=repo GROUP_ID：就是刚才的groupId 下面的Licence信息是固定的 第二步 创建一个Libary,我命名为AndroidLib 在Libary的根目录下新建gradle.properties文件，添加 #包信息 ARTIFACTID = androidLib...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-Android-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%89%87%E6%8E%A7%E4%BB%B6%E4%BD%BF%E7%94%A8">Android 自定义轮播图片控件使用</a></h2>
      <time datetime="2017-03-03T09:56:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>效果图 直接先上效果图。 ###实现原理 本篇主要讲如何在项目中引用。具体实现请查看Android 自定义轮播图 ###添加依赖 在module的build.gradle中添加： allprojects { repositories { jcenter() maven { url "https://jitpack.io" } } } 在app的build.gradle中添加: compile 'com.github.fccaikai:AutoScrollViewPager:0.7.0', { exclude group: 'com.android.support', module: 'appcompat-v7' } exclude group: 'com.android.support', module: 'appcompat-v7' 是为了解决appcompat版本的冲突，因为我这里用的是24.2.0版本，你们的app可能不是这个版本。 ###布局文件 activity_main.xml &lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:id="@+id/activity_main" android:layout_width="match_parent" android:layout_height="match_parent" tools:context="com.kcode.autoviewpager.MainActivity"&gt; &lt;com.kcode.autoscrollviewpager.view.AutoScrollViewPager android:id="@+id/viewPager" android:layout_width="match_parent"...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-Android-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%89%87%E6%8E%A7%E4%BB%B6">Android 自定义轮播图片控件</a></h2>
      <time datetime="2017-03-03T09:56:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>效果图 直接先上效果图。 ###实现原理 要完成一个轮播图片，首先想到的应该是使用ViewPager来实现。ViewPager已经有了滑动的功能，我们只要让它自己滚动。再加上下方的小圆点就行了。所以我们本次的自定义控件就是由ViewPager和LinearLayout叠加起来组成的。 ###难点 如何循环滚动 首先我们的轮播图是可以一直滚动下去的。那我们在Adapter中设置的大小就需要无限大（这里我们取Integer.MAX_VALUE的值）。假设我们有三张图片。要在第三张图片时，继续滚动到第一张。其实就是把第四个位置的ImageView加载的图片地址为第一张的。这里我们用模运算来处理。如：第四张时，3%3=0（Adapter是从0开始，3代表第四张）。我们就能拿到第1个位置的图片地址。具体实现步骤如下： ###创建一个自定义的ViewPager 先上完整的代码 package com.kcode.autoscrollviewpager.view; import android.content.Context; import android.os.Message; import android.support.v4.view.ViewPager; import android.util.AttributeSet; import android.util.Log; import android.view.MotionEvent; import java.util.Timer; import java.util.TimerTask; /** * Created by caik on 2016/10/10. */ public class AutoViewPager extends ViewPager { private static final String TAG = "AutoViewPager"; private int...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-Realm-for-Android">Realm for Android</a></h2>
      <time datetime="2017-03-03T09:53:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>##简介 realm是一个跨平台移动数据库引擎，支持iOS、OS X（Objective-C和Swift）、Android以及React Native。根据官网的介绍来说，是比Sqlite存储更加快读、高效。现在来的介绍一下realm环境的配置以及简单的使用。 官网：realm github:realm-java 官方教程：realm docs ##Realm使用 ###集成 一 在Project目录下的build.gradle中做一下修改： buildscript { repositories { jcenter() } dependencies { classpath 'com.android.tools.build:gradle:2.2.1' classpath "io.realm:realm-gradle-plugin:2.2.0" // NOTE: Do not place your application dependencies here; they belong // in the individual module build.gradle files } } 二 在module目录下的build.gradle中添加： apply plugin: 'realm-android' ###使用...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-%E4%BD%BF%E7%94%A8DialogFragment%E5%AE%9E%E7%8E%B0%E5%BA%95%E9%83%A8%E5%BC%B9%E5%87%BA%E6%A1%86">使用DialogFragment实现底部弹出框</a></h2>
      <time datetime="2017-03-03T09:49:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>效果图 ##实现 DialogFragment是3.0之后提供的一个弹出框实现类。使用DialogFragment的好处是能够更好的控制其生命周期。 ###创建一个DialogFragment public class BottomDialog extends DialogFragment { public static BottomDialog newInstance() { Bundle args = new Bundle(); BottomDialog fragment = new BottomDialog(); fragment.setArguments(args); return fragment; } @Override public void onStart() { super.onStart(); Window window = getDialog().getWindow(); WindowManager.LayoutParams params = window.getAttributes(); params.gravity = Gravity.BOTTOM; params.width = WindowManager.LayoutParams.MATCH_PARENT; window.setAttributes(params);...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-%E4%BD%BF%E7%94%A8Bottom-Sheet%E5%AE%9E%E7%8E%B0%E5%BA%95%E9%83%A8%E5%BC%B9%E5%87%BA%E6%A1%86">使用BottomSheet实现底部弹出框</a></h2>
      <time datetime="2017-03-03T09:49:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>上一篇文章介绍了使用DialogFragment实现弹底部菜单，这次我们使用android design library 中的Bottom Sheet来实现。 Bottom Sheet是在support library 23.2之后提供的一个新控件，也就是需要用6.0以上的SDK进行编译才可以使用此控件，6.0以下的可以参考上一篇文章，使用DialogFragment实现。 先上效果图： 下面我们来一步一步使用Bottom Sheet实现底部弹出框的效果。 添加依赖 compile 'com.android.support:design:24.2.0' 这里我使用的是24.2.0版本，但是只要是23.2.0+的版本就可以了 ###创建一个layout &lt;?xml version="1.0" encoding="utf-8"?&gt; &lt;android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;LinearLayout android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical" android:paddingBottom="@dimen/activity_vertical_margin" android:paddingLeft="@dimen/activity_horizontal_margin" android:paddingRight="@dimen/activity_horizontal_margin" android:paddingTop="@dimen/activity_vertical_margin"&gt; &lt;Button android:id="@+id/button" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_centerHorizontal="true" android:text="Show Bottom Sheet"/&gt; &lt;Button android:id="@+id/fragmentbutton" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_centerHorizontal="true" android:text="Show Bottom Sheet...</p>
	  </li>

    

	  <li class="post">
	  	<h2><a href="/Jekyll-Android-%E8%BF%90%E8%A1%8C%E6%97%B6%E6%9D%83%E9%99%90%E5%A4%84%E7%90%86">Android 运行时权限处理</a></h2>
      <time datetime="2017-03-03T09:31:00+08:00" class="by-line"> <i>03 Mar 2017</i> </time>
	  	<p>Android 运行时权限处理 描述 从Android 6.0（API级别23）开始，用户开始在应用运行时向其授予权限，而不是在应用安装时授予。此方法可以简化应用安装过程，因为用户在安装或更新应用时不需要授予权限。它还让用户可以对应用的功能进行更多控制；例如，用户可以选择为相机应用提供相机访问权限，而不提供设备位置的访问权限。用户可以随时进入应用的“Settings”屏幕调用权限。具体介绍详见官网介绍。 权限类别 系统权限分为了两种类别：正常权限和危险权限。 正常权限：可以只要在AndroidManifest.xml中进行配置就可以了； 危险权限：除了在AndroidManifest.xml中进行配置，还需要在运行时进行权限的请求，也就是本文所需要讲述的内容。 可以通过以下命令行来查询危险权限 $ adb shell pm list permissions -d -g 检查权限 当我们需要使用某一个权限时，我们要先检查一下，系统是否已经授予了我们这个权限。比如：当想调用系统相机时，需要去检查一下，是否有打开相机的权限。 使用ContextCompat.checkSelfPermission()方法来检查是否具有某项权限。 int permissionCheck = ContextCompat.checkSelfPermission(thisActivity, Manifest.permission.WRITE_CALENDAR); if(permissionCheck == PackageManager.PERMISSION_GRANTED){ //具有此权限 } 当返回值permissionCheck等于PackageManager.PERMISSION_GRANTED时，表示用户具有此权限，可以继续打开相机；返回值等于PackageManager. PERMISSION_DENIED时，表示未授权、必须向用户请求权限。 请求权限 通过ActivityCompat.requestPermissions()方法请求你所需要的权限。 此方法需要传入三个参数： void requestPermissions (Activity activity, String[] permissions, int requestCode) 当前Activity实例 权限组（可以同时请求多个权限） 请求码（回调的时候需要用到） // 先检查权限 if...</p>
	  </li>

    

</ul>


	  </main>
		
		  <!-- Pagination links -->
      
        <div class="pagination">
          
            <span class="page-item">&laquo;</span>
          
        
          
            
              <span class="page-item">1</span>
            
          
            
              <a href="/page2/" class="page-item">2</a>
            
          
        
          
            <a href="/page2/" class="page-item">&raquo;</a>
          
        </div>
        

	  </div>
	    
	    <!-- Footer -->
	    <footer><span>@2017 - Caikai</span></footer>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>
</body>
</html>
